# JavaScript核心技术开发解密
> 2018年出版

## 1. 三种基础数据结构
栈： 规定代码执行顺序。JS中的函数调用栈（call stack）。存取方式为先进后出。
> JS作为一门高级程序语言，并没有像其他语言那样区分栈区和堆区。可以简单粗暴的认为，JS中所有数据都存放在堆内存中。

堆：一种树状结构。存取方式类似于 从书架上取书。

队列： 事件循环(Event Loop)。存取方式为先进先出。

## 2. 内存空间

> JS有垃圾自动回收机制。

函数运行时，会创建一个执行环境，这个执行环境叫执行上下文(Execution Context)。
在执行上下文中，会创建一个**变量对象**(VO)。基本数据类型保存在VO中。VO在栈内存中。

引用数据类型保存在堆内存中。

JS垃圾回收主要依赖于“引用”。当一块内存空间中的数据能够被访问时，垃圾回收器认为“该数据能够被获得”。不能够被获得的数据，就会被打上标记，并回收内存空间。这种方式叫做“标记-清除算法”。

这个算法会设置一个全局对象，并定期的从全局对象开始查找，垃圾回收器会找到所有可以获得与不能够被获得的数据。

## 3. 执行上下文

执行上下文：当前代码的运行环境
分类： 全局环境，函数环境，eval环境

函数执行过程中遇到return 能直接终止可执行代码的执行，因此会直接将当前上下文弹出栈。

**函数执行时才会创建执行上下文**

